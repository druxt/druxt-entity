(window.webpackJsonp=window.webpackJsonp||[]).push([[17,29],{301:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(300),i={mixins:[{props:{context:{type:Object,default:function(){return Object(r.a)({},this.$parent.context)}}}}],props:{inner:{type:Object,default:function(){return{component:"div",props:{}}}},items:{type:Array,required:!0},schema:{type:Object,required:!0},wrapper:{type:Object,default:function(){return{component:"div",props:{}}}}}}},310:function(e,t,n){"use strict";n.r(t);var r=n(67),i=n(31),a=n(321),s=n(300),u=n(44),o=(n(91),n(94),n(27),n(61),n(152),n(317),n(305),n(318)),c=n.n(o),p=n(319),d=n(307),l=n(303),f={name:"DruxtEntity",extends:d.c,props:{mode:{type:String,default:"default"},type:{type:String,required:!0},uuid:{type:String,required:!0}},fetch:function(){var e=this;return Object(u.a)(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSchema({resourceType:e.type,mode:e.mode});case 2:return e.schema=t.sent,n=e.getModuleComponents(),r={is:((n.filter((function(e){return e.global}))||[])[0]||{}).name||"DruxtWrapper",options:n.map((function(e){return e.name}))||[]},t.next=7,e.getWrapperData(r.is);case 7:return i=t.sent,r.settings=c()((e.$druxtEntity||{}).options||{},i.druxt||{},{arrayMerge:function(e,t){return t}}),a=e.getQuery(r.settings),t.next=12,e.getResource({type:e.type,id:e.uuid,query:a});case 12:e.entity=t.sent.data,e.fields=e.getFields(),r=Object(s.a)(Object(s.a)({},r),e.getModulePropsData(i.props)),e.component=r;case 16:case"end":return t.stop()}}),t)})))()},data:function(){return{entity:{},fields:{},schema:{}}},druxt:{componentOptions:function(e){var t=e.schema;return[[t.resourceType,t.config.mode],[t.resourceType],[t.config.mode]]},propsData:function(e){return{entity:e.entity,fields:e.fields,schema:e.schema}}},methods:Object(s.a)({getFields:function(){if(!this.entity||!this.schema)return!1;var e,t=Object(s.a)(Object(s.a)({},this.entity.attributes||{}),this.entity.relationships||{}),n={},r=Object(a.a)(this.schema.fields);try{for(r.s();!(e=r.n()).done;){var i=e.value;this.isEmpty(t[i.id])||(n[i.id]={id:i.id,data:t[i.id],schema:i,relationship:!!(this.entity.relationships||{})[i.id]})}}catch(e){r.e(e)}finally{r.f()}return n},getQuery:function(e){var t=new p.DrupalJsonApiParams,n=(e.query||{}).schema?[].concat(Object(i.a)(this.schema.fields.map((function(e){return e.id}))),Object(i.a)((e.query||{}).fields||[])):(e.query||{}).fields||[];return!!n.length&&(t.addFields(this.type,n),t)},getScopedSlots:function(){var e=this,t={};return Object.entries(this.fields).map((function(n){var i=Object(r.a)(n,2),a=i[0],s=i[1];t[a]=function(t){return e.$createElement("DruxtField",{attrs:t,props:s})}})),t.default=function(n){return Object.entries(e.fields).map((function(e){var i=Object(r.a)(e,1)[0];return t[i](n)}))},t},isEmpty:function(e){return void 0===e||(!e||(!(!Array.isArray(e.data)||e.data.length)||void 0!==e.data&&!e.data))}},Object(l.a)({getResource:"druxt/getResource",getSchema:"druxtSchema/get"}))},m=n(42),y=Object(m.a)(f,void 0,void 0,!1,null,null,null);t.default=y.exports},356:function(e,t,n){"use strict";n.r(t);var r=n(300),i=n(310),a=n(301),s={name:"DruxtFieldEntityReferenceEntityView",components:{DruxtEntity:i.default},mixins:[a.a],computed:{mode:function(){return((this.schema.settings||{}).display||{}).view_mode||"default"},props:function(){return Object(r.a)({mode:this.mode,wrapper:this.inner},this.$attrs)}}},u=n(42),o=Object(u.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.wrapper.component,e._b({tag:"component"},"component",e.wrapper.props,!1),[e.$slots["label-above"]?n("div",[e._t("label-above")],2):e._e(),e._v(" "),e.$slots["label-inline"]?e._t("label-inline"):e._e(),e._v(" "),e._l(e.items,(function(t){return n("DruxtEntity",e._b({key:t.uuid},"DruxtEntity",Object.assign({},t,e.props),!1))}))],2)}),[],!1,null,null,null);t.default=o.exports}}]);